webpackJsonp([1],{0:function(n,t,e){n.exports=e("x35b")},"6GLz":function(n,t){function e(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="6GLz"},x35b:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("3j3K"),o=function(){return function(){}}(),i=e("g5jc"),r=function(){function n(){this.radius=40,this.timerRadius=15,this.svgSize=2*this.radius+this.radius/2,this.isVisible=!0,this.notifyBombDrag=new i.a,this.explodeBomb=new i.a}return n.prototype.ngOnInit=function(){this.timerCx=this.radius+this.radius/1.5,this.timerCy=this.radius/2,this.timerTextCx=this.timerCx+"%",this.timerTextCy=this.timerCy+"%",this.startBombTimer()},n.prototype.onDragBomb=function(n){this.notifyBombDrag.next(this)},n.prototype.onTimerEnd=function(){this.isVisible=!1,this.stopBombTimer(),this.explodeBomb.next(this)},n.prototype.startBombTimer=function(){var n=this;this.bombInterval=setInterval(function(){n.time=n.time-1,0===n.time&&n.onTimerEnd()},1e3)},n.prototype.stopBombTimer=function(){clearInterval(this.bombInterval)},n.ctorParameters=function(){return[]},n}(),u=function(){function n(){this.dragStartDataSubject=new i.a}return n.prototype.emitDragStartData=function(n){this.dragStartDataSubject.next(n)},n.ctorParameters=function(){return[]},n}(),s=function(){function n(n,t){this.resolver=n,this.dragInfoService=t,this.bombMinTime=5,this.bombMaxTime=10,this.occupiedCoords=new Array,this.bombCreateIntervalDefault=5e3,this.bombCreateInterval=this.bombCreateIntervalDefault,this.bombTime=10,this.score=0,this.colors=["red","green","blue"],this.gameOver=!1,this.gameStarted=!1,this.bombsCount=0,this.bombsOnScreen=0,this.maxBombs=120,this.bombContainerSize=80}return n.prototype.handleDragStart=function(n){this.draggedBomb=n,this.dragInfoService.emitDragStartData(this.draggedBomb.color)},n.prototype.handleBombExplode=function(n){this.score-=1,this.bombsOnScreen-=1,this.deleteOccupiedCoords(n)},n.prototype.handleDrop=function(n){this.bombsOnScreen-=1,this.deleteOccupiedCoords(this.draggedBomb),this.draggedBomb.color===n?(this.score+=1,this.draggedBomb.isVisible=!1,this.draggedBomb.stopBombTimer()):this.score-=1,this.bombsCount===this.maxBombs&&0===this.bombsOnScreen&&this.endGame(!1)},n.prototype.onTimerReset=function(n){this.colors=this.randomize(this.colors)},n.prototype.startGame=function(){var n=this;this.resetGameData(),setTimeout(function(){return n.createBomb()},500),this.createBombInterval()},n.prototype.randomize=function(n){return n.sort(function(){return.5-Math.random()})},n.prototype.getRandomInRange=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},n.prototype.deleteOccupiedCoords=function(n){var t=this.occupiedCoords.find(function(t){return t.x===+n.left.replace("px","")&&t.y===+n.top.replace("px","")});this.occupiedCoords.splice(this.occupiedCoords.indexOf(t),1)},n.prototype.increaseBombFrequencyByPerc=function(){this.bombCreateInterval-=this.bombCreateInterval>=2e3?.2*this.bombCreateIntervalDefault:.1*this.bombCreateIntervalDefault,clearInterval(this.bombInterval),this.createBombInterval()},n.prototype.createBombInterval=function(){var n=this;this.bombInterval=setInterval(function(){n.bombsCount===n.maxBombs?n.endGame():n.shouldIncreaseSpeed()?(n.increaseBombFrequencyByPerc(),n.createBomb()):n.createBomb()},this.bombCreateInterval)},n.prototype.shouldIncreaseSpeed=function(){return!(this.bombCreateInterval<=500||this.bombsCount<=1)&&(2*this.bombCreateInterval>this.bombCreateIntervalDefault&&this.bombsCount%(.025*this.maxBombs)==0||(this.bombCreateInterval>1e3&&this.bombsCount%(.1*this.maxBombs)==0||this.bombCreateInterval<=1e3&&this.bombsCount%(.4*this.maxBombs)==0))},n.prototype.resetGameData=function(){this.gameStarted=!0,this.gameOver=!1,this.bombsCount=0,this.bombsOnScreen=0,this.score=0,this.bombCreateInterval=this.bombCreateIntervalDefault,this.occupiedCoords=[]},n.prototype.endGame=function(n){var t=this;void 0===n&&(n=!0),clearInterval(this.bombInterval),n?setTimeout(function(){return t.gameOver=!0},1e3*this.bombTime):this.gameOver=!0},n.prototype.getBombCoordinates=function(n,t,e,l){var o=this,i=this.getRandomInRange(n,t),r=this.getRandomInRange(e,l);return this.occupiedCoords.some(function(n){return n.x-o.bombContainerSize<i&&i<n.x||n.x+o.bombContainerSize>i&&n.x<i||n.y-o.bombContainerSize<r&&r<n.y||n.y+o.bombContainerSize>r&&n.y<r})?this.getBombCoordinates(n,t,e,l):new a(i,r)},n.prototype.createBomb=function(){var n=this,t=this.containerElem.nativeElement.getBoundingClientRect(),e=t.x,l=t.y,o=t.width,i=t.height,u=this.getBombCoordinates(e,o-this.bombContainerSize,l,i-this.bombContainerSize),s=this.resolver.resolveComponentFactory(r);this.componentRef=this.container.createComponent(s),this.componentRef.instance.color=this.colors[this.getRandomInRange(0,this.colors.length-1)],this.componentRef.instance.time=this.getRandomInRange(this.bombMinTime,this.bombMaxTime),this.componentRef.instance.left=u.x+"px",this.componentRef.instance.top=u.y+"px",this.bombDragSubscription=this.componentRef.instance.notifyBombDrag.subscribe(function(t){return n.handleDragStart(t)}),this.bombExplodeSubscription=this.componentRef.instance.explodeBomb.subscribe(function(t){return n.handleBombExplode(t)}),this.occupiedCoords.push(new a(u.x,u.y)),this.bombsCount++,this.bombsOnScreen++},n.prototype.ngOnDestroy=function(){this.componentRef.destroy(),this.bombDragSubscription.unsubscribe(),this.bombExplodeSubscription.unsubscribe()},n.ctorParameters=function(){return[{type:l.i},{type:u}]},n}(),a=function(){return function(n,t){this.x=n,this.y=t}}(),c=e("2Je8"),m=[[".bomb[_ngcontent-%COMP%]{position:fixed}"]],b=l._5({encapsulation:0,styles:m,data:{}});function h(n){return l._25(0,[(n()(),l._8(0,0,null,null,11,"div",[["class","bomb"],["draggable","true"]],[[4,"left",null],[4,"top",null]],[[null,"dragstart"]],function(n,t,e){var l=!0,o=n.component;"dragstart"===t&&(l=!1!==o.onDragBomb(e)&&l);return l},null,null)),(n()(),l._24(-1,null,["\n  "])),(n()(),l._8(2,0,null,null,8,":svg:svg",[],[[1,"height",0],[1,"width",0]],null,null,null,null)),(n()(),l._24(-1,null,["\n    "])),(n()(),l._8(4,0,null,null,0,":svg:circle",[],[[1,"cx",0],[1,"cy",0],[1,"r",0],[1,"fill",0]],null,null,null,null)),(n()(),l._24(-1,null,["\n    "])),(n()(),l._8(6,0,null,null,0,":svg:circle",[["fill","orange"]],[[1,"cx",0],[1,"cy",0],[1,"r",0]],null,null,null,null)),(n()(),l._24(-1,null,["\n    "])),(n()(),l._8(8,0,null,null,1,":svg:text",[["dy",".3em"],["text-anchor","middle"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(n()(),l._24(9,null,["",""])),(n()(),l._24(-1,null,["\n  "])),(n()(),l._24(-1,null,["\n"]))],null,function(n,t){var e=t.component;n(t,0,0,e.left,e.top),n(t,2,0,e.svgSize,e.svgSize),n(t,4,0,e.radius,e.radius,e.radius,e.color),n(t,6,0,e.timerCx,e.timerCy,e.timerRadius),n(t,8,0,e.timerTextCx,e.timerTextCy),n(t,9,0,e.time)})}function f(n){return l._25(0,[(n()(),l._2(16777216,null,null,1,null,h)),l._6(1,16384,null,0,c.c,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(n()(),l._24(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var p=l._3("app-bomb",r,function(n){return l._25(0,[(n()(),l._8(0,0,null,null,1,"app-bomb",[],null,null,null,f,b)),l._6(1,114688,null,0,r,[],null,null)],function(n,t){n(t,1,0)},null)},{color:"color",time:"time",left:"left",top:"top"},{},[]),d=function(){function n(n){var t=this;this.dragInfoService=n,this.notifyDropOnBin=new l.m,this.isHovered=!1,this.binWidth=100,this.dragInfoSubscription=this.dragInfoService.dragStartDataSubject.subscribe(function(n){return t.draggedBombColor=n})}return n.prototype.ngOnInit=function(){},n.prototype.cancelHover=function(n){n.target.tagName&&"rect"!==n.target.tagName.toLowerCase()&&(this.isHovered=!1)},n.prototype.allowDrop=function(n){n.preventDefault(),this.fillColor===this.draggedBombColor&&(this.isHovered=!0)},n.prototype.handleDrop=function(n){this.isHovered=!1,this.notifyDropOnBin.emit(this.fillColor)},n.prototype.ngOnDestroy=function(){this.dragInfoSubscription.unsubscribe()},n.ctorParameters=function(){return[{type:u}]},n}(),_=[[".can-hover[_ngcontent-%COMP%]{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.can-hover.red[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:rgba(200,0,0,.7)}.can-hover.green[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:rgba(0,200,0,.7)}.can-hover.blue[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:rgba(0,0,200,.7)}"]],g=l._5({encapsulation:0,styles:_,data:{}});function v(n){return l._25(0,[l._22(402653184,1,{binElem:0}),(n()(),l._8(1,0,[[1,0],["bin",1]],null,6,"div",[],[[8,"className",0],[2,"can-hover",null]],[[null,"dragover"],[null,"drop"]],function(n,t,e){var l=!0,o=n.component;"dragover"===t&&(l=!1!==o.allowDrop(e)&&l);"drop"===t&&(l=!1!==o.handleDrop(e)&&l);return l},null,null)),(n()(),l._24(-1,null,["\n  "])),(n()(),l._8(3,0,null,null,3,":svg:svg",[["height","100"],["width","100"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n    "])),(n()(),l._8(5,0,null,null,0,":svg:rect",[["x","0"],["y","0"]],[[1,"width",0],[1,"height",0],[1,"fill",0]],null,null,null,null)),(n()(),l._24(-1,null,["\n  "])),(n()(),l._24(-1,null,["\n"])),(n()(),l._24(-1,null,["\n"]))],null,function(n,t){var e=t.component;n(t,1,0,l._11(1,"bin ",e.fillColor,""),e.isHovered),n(t,5,0,e.binWidth,e.binWidth,e.fillColor)})}l._3("app-bin",d,function(n){return l._25(0,[(n()(),l._8(0,0,null,null,1,"app-bin",[],null,[["window","dragover"]],function(n,t,e){var o=!0;return"window:dragover"===t&&(o=!1!==l._21(n,1).cancelHover(e)&&o),o},v,g)),l._6(1,245760,null,0,d,[u],null,null)],function(n,t){n(t,1,0)},null)},{fillColor:"fillColor"},{notifyDropOnBin:"notifyDropOnBin"},[]);var y=function(){function n(){this.timerReset=new l.m}return n.prototype.ngOnInit=function(){this.changeTimeLeft=this.time},n.prototype.ngAfterViewInit=function(){this.startTimer()},n.prototype.startTimer=function(){var n=this;this.countdown=setInterval(function(){n.changeTimeLeft=n.changeTimeLeft-1,120!==n.bombsCount?0===n.changeTimeLeft&&(n.timerReset.emit(),n.changeTimeLeft=n.time):clearInterval(n.countdown)},1e3)},n.ctorParameters=function(){return[]},n}(),C=[[".timer-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:15px}"]],x=l._5({encapsulation:0,styles:C,data:{}});function O(n){return l._25(0,[(n()(),l._8(0,0,null,null,4,"div",[["class","timer-container"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n  "])),(n()(),l._8(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),l._24(3,null,["Change in: ","s"])),(n()(),l._24(-1,null,["\n"])),(n()(),l._24(-1,null,["\n"]))],null,function(n,t){n(t,3,0,t.component.changeTimeLeft)})}l._3("app-timer",y,function(n){return l._25(0,[(n()(),l._8(0,0,null,null,1,"app-timer",[],null,null,null,O,x)),l._6(1,4308992,null,0,y,[],null,null)],function(n,t){n(t,1,0)},null)},{bombsCount:"bombsCount",time:"time"},{timerReset:"timerReset"},[]);var w=[[".game-container[_ngcontent-%COMP%]{width:90%;margin:0 auto;height:100%;text-align:center;overflow:hidden}.bombs-container[_ngcontent-%COMP%]{height:70vh}.bins-container[_ngcontent-%COMP%]{width:90%;margin:0 auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.game-message[_ngcontent-%COMP%]{text-align:center;margin-top:25vh}.game-message[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:20%;height:15vh;font-size:2rem}.game-message[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.5rem}"]],B=l._5({encapsulation:0,styles:w,data:{}});function I(n){return l._25(0,[(n()(),l._8(0,0,null,null,25,"div",[["class","container"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n  "])),(n()(),l._8(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),l._24(3,null,["Score: "," "])),(n()(),l._24(-1,null,["\n\n  "])),(n()(),l._8(5,0,null,null,16,"div",[["class","game-container"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n    "])),(n()(),l._8(7,16777216,[[1,3],[2,0],["bombContainer",1]],null,1,"div",[["class","bombs-container"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n    "])),(n()(),l._24(-1,null,["\n\n    "])),(n()(),l._8(10,0,null,null,10,"div",[["class","bins-container"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n        "])),(n()(),l._8(12,0,null,null,1,"app-bin",[["class","bin"]],null,[[null,"notifyDropOnBin"],["window","dragover"]],function(n,t,e){var o=!0,i=n.component;"window:dragover"===t&&(o=!1!==l._21(n,13).cancelHover(e)&&o);"notifyDropOnBin"===t&&(o=!1!==i.handleDrop(e)&&o);return o},v,g)),l._6(13,245760,[["bin1",4]],0,d,[u],{fillColor:[0,"fillColor"]},{notifyDropOnBin:"notifyDropOnBin"}),(n()(),l._24(-1,null,["\n        "])),(n()(),l._8(15,0,null,null,1,"app-bin",[["class","bin"]],null,[[null,"notifyDropOnBin"],["window","dragover"]],function(n,t,e){var o=!0,i=n.component;"window:dragover"===t&&(o=!1!==l._21(n,16).cancelHover(e)&&o);"notifyDropOnBin"===t&&(o=!1!==i.handleDrop(e)&&o);return o},v,g)),l._6(16,245760,[["bin2",4]],0,d,[u],{fillColor:[0,"fillColor"]},{notifyDropOnBin:"notifyDropOnBin"}),(n()(),l._24(-1,null,["\n        "])),(n()(),l._8(18,0,null,null,1,"app-bin",[["class","bin"]],null,[[null,"notifyDropOnBin"],["window","dragover"]],function(n,t,e){var o=!0,i=n.component;"window:dragover"===t&&(o=!1!==l._21(n,19).cancelHover(e)&&o);"notifyDropOnBin"===t&&(o=!1!==i.handleDrop(e)&&o);return o},v,g)),l._6(19,245760,[["bin3",4]],0,d,[u],{fillColor:[0,"fillColor"]},{notifyDropOnBin:"notifyDropOnBin"}),(n()(),l._24(-1,null,["\n    "])),(n()(),l._24(-1,null,["\n  "])),(n()(),l._24(-1,null,["\n\n  "])),(n()(),l._8(23,0,null,null,1,"app-timer",[],null,[[null,"timerReset"]],function(n,t,e){var l=!0,o=n.component;"timerReset"===t&&(l=!1!==o.onTimerReset(e)&&l);return l},O,x)),l._6(24,4308992,null,0,y,[],{bombsCount:[0,"bombsCount"],time:[1,"time"]},{timerReset:"timerReset"}),(n()(),l._24(-1,null,["\n"]))],function(n,t){var e=t.component;n(t,13,0,e.colors[0]),n(t,16,0,e.colors[1]),n(t,19,0,e.colors[2]);n(t,24,0,e.bombsCount,"40")},function(n,t){n(t,3,0,t.component.score)})}function D(n){return l._25(0,[(n()(),l._8(0,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),l._24(1,null,["Game Over! Your score was: "," out of "," "]))],null,function(n,t){var e=t.component;n(t,1,0,e.score,e.maxBombs)})}function S(n){return l._25(0,[(n()(),l._8(0,0,null,null,7,"div",[["class","game-message"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n  "])),(n()(),l._2(16777216,null,null,1,null,D)),l._6(3,16384,null,0,c.c,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(n()(),l._24(-1,null,["\n  "])),(n()(),l._8(5,0,null,null,1,"button",[],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;"click"===t&&(l=!1!==o.startGame()&&l);return l},null,null)),(n()(),l._24(-1,null,["Start Game"])),(n()(),l._24(-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.gameOver)},null)}function R(n){return l._25(0,[l._22(671088640,1,{container:0}),l._22(671088640,2,{containerElem:0}),(n()(),l._2(16777216,null,null,1,null,I)),l._6(3,16384,null,0,c.c,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(n()(),l._24(-1,null,["\n\n"])),(n()(),l._2(16777216,null,null,1,null,S)),l._6(6,16384,null,0,c.c,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(n()(),l._24(-1,null,["\n"]))],function(n,t){var e=t.component;n(t,3,0,e.gameStarted&&!e.gameOver),n(t,6,0,e.gameOver||!e.gameStarted)},null)}var T=l._3("app-root",s,function(n){return l._25(0,[(n()(),l._8(0,0,null,null,1,"app-root",[],null,null,null,R,B)),l._6(1,180224,null,0,s,[l.i,u],null,null)],null,null)},{},{},[]),M=e("Qbdm"),P=e("NVOs"),z=e("Fzro"),k=l._4(o,[s],function(n){return l._19([l._20(512,l.i,l._0,[[8,[p,T]],[3,l.i],l.x]),l._20(5120,l.v,l._18,[[3,l.v]]),l._20(4608,c.e,c.d,[l.v]),l._20(4608,l.h,l.h,[]),l._20(5120,l.a,l._9,[]),l._20(5120,l.t,l._15,[]),l._20(5120,l.u,l._16,[]),l._20(4608,M.b,M.s,[c.b]),l._20(6144,l.J,null,[M.b]),l._20(4608,M.e,M.f,[]),l._20(5120,M.c,function(n,t,e,l){return[new M.k(n),new M.o(t),new M.n(e,l)]},[c.b,c.b,c.b,M.e]),l._20(4608,M.d,M.d,[M.c,l.z]),l._20(135680,M.m,M.m,[c.b]),l._20(4608,M.l,M.l,[M.d,M.m]),l._20(6144,l.H,null,[M.l]),l._20(6144,M.p,null,[M.m]),l._20(4608,l.O,l.O,[l.z]),l._20(4608,M.g,M.g,[c.b]),l._20(4608,M.i,M.i,[c.b]),l._20(4608,P.c,P.c,[]),l._20(4608,z.c,z.c,[]),l._20(4608,z.g,z.b,[]),l._20(5120,z.i,z.j,[]),l._20(4608,z.h,z.h,[z.c,z.g,z.i]),l._20(4608,z.f,z.a,[]),l._20(5120,z.d,z.k,[z.h,z.f]),l._20(4608,u,u,[]),l._20(512,c.a,c.a,[]),l._20(1024,l.l,M.q,[]),l._20(1024,l.b,function(n,t){return[M.r(n,t)]},[[2,M.h],[2,l.y]]),l._20(512,l.c,l.c,[[2,l.b]]),l._20(131584,l._7,l._7,[l.z,l._1,l.r,l.l,l.i,l.c]),l._20(2048,l.e,null,[l._7]),l._20(512,l.d,l.d,[l.e]),l._20(512,M.a,M.a,[[3,M.a]]),l._20(512,P.b,P.b,[]),l._20(512,P.a,P.a,[]),l._20(512,z.e,z.e,[]),l._20(512,o,o,[])])});Object(l.U)(),Object(M.j)().bootstrapModuleFactory(k)}},[0]);